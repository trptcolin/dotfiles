#!/usr/bin/env bash

set -e

# Basics
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
brew cask install 1password

# Terminal programs
brew install git zsh vim tmux reattach-to-user-namespace watch
echo "$(which zsh)" | sudo tee -a /etc/shells
chsh -s $(which zsh)

# Mac apps
brew tap caskroom/versions
brew cask install google-chrome firefox \
  dropbox box-sync \
  crashplan \
  caffeine flycut \
  skype slack \
  iterm2 gpgtools vagrant virtualbox \
  dash3

# Mjolnir
brew install lua
brew cask install mjolnir
echo 'rocks_servers = { "http://rocks.moonscript.org" }' >> /usr/local/etc/luarocks52/config-5.2.lua
luarocks install mjolnir.hotkey --local
luarocks install mjolnir.alert --local
luarocks install mjolnir.sd.grid --local

# Ruby
brew install rbenv cmake

# JVM
brew cask install java
brew cask install java7

brew install postgresql

launchctl start org.openbsd.ssh-agent
